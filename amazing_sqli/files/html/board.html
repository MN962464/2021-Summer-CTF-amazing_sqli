<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>漂浮留言板</title>
<script src="js/jquery-3.0.0.min.js"></script>
<style>
body {
 //background: black;
	padding: 20px;
	background-repeat: no-repeat;
	background-size: 100% 100%;
	background-attachment: fixed;
	position: relative;
	z-index: 1;
	text-align: center;
}
</style>
<style type="text/css">
.barrager {
	width: 1500px;
	margin: 0 auto;
	height: 1000px;
	overflow: hidden;
	position: relative;
}
.barrager div {
	position: absolute;
}

.btn {
	width: 100px;
	height: 40px;
	font-family: "微软雅黑";
	font-size: 20px;
}
</style>
</head>
<body background="background.jfif">
<div class="barrager">
  <div><span>我的女神</span></div>
  <div><span>温婉而雅</span></div>
  <div><span>温柔美丽</span></div>
  <div><span>Welcome to cuc</span></div>
  <div><span>啊啊啊啊啊啊啊啊啊</span></div>
  <div><span>啾咪</span></div>
  <div><span>气质型</span></div>
  <div><span>风趣幽默</span></div>
  <div><span>哈哈哈哈哈哈</span></div>
  <div><span>hello world</span></div>
</div>
<div>
  <input type="button" value="发布" class="btn" onClick="location='share.php'"/>
</div>

<script type="text/javascript">
    $(function () {
        $(".barrager").barrager()
    });
    (function () {
        var Barrager = function (ele,options) {
            var defaults = {
                color:["#FF69B4","#9d77ff","#4785d9","#ff9333","#5bdea8","#51befc","#FFFFFF","#FF0000","#FFD700","#40E0D0","#9932CC"],
                wrap:ele
            };
            this.settings = $.extend({},defaults,options||{});
            this._init();
            this.bindEven();
        };
        Barrager.prototype = {
            _init:function () {
                var item = $(this.settings.wrap).find("div");
                for(var i = 0;i<item.length;i++){
                    item.eq(i).css({
                        top:this.getReandomTop()+"px",
                        color:this.getReandomColor(),
                        fontSize:this.getReandomSize()+"px"
                    });
                    item.eq(i).css({
                        right:-item.eq(i).width()
                    })
                }
                this.randomTime(0);
            },
            bindEven:function () {
                var _this = this;
                $(".addBarrager .submit").on('click',function () {
                    _this._click(_this);
                });
            },
            getReandomColor:function () {
                var max = this.settings.color.length;
                var randomNum = Math.floor(Math.random()*max);
                return this.settings.color[randomNum];
            },
            getReandomTop:function () {
                var top = (Math.random()*800).toFixed(1);
                return top;
            },
            getReandomSize:function () {
                var size = (12+Math.random()*50);
                return size;
            },
            getReandomTime:function () {
                var time = Math.floor((8+Math.random()*3));
                return time*700;
            },
            randomTime:function (n) {
                var obj = $(this.settings.wrap).find("div");
                var _this = this;
                var len = obj.length;
                if(n>=len){
                    n=0;
                }
                setTimeout(function () {
                    n++;
                    _this.randomTime(n)
                },1000);
                var item = obj.eq(n),_w = item.outerWidth(!0);
                item.animate({
                    left:-_w
                },_this.getReandomTime(),"linear",function () {
                    item.css({right:-_w,left:""});
                    _this.randomTime(n)
                });
            },

        };
        $.fn.barrager = function (opt) {
            var bger = new Barrager(this,opt);
        }
    })(jQuery);
    </script>
</body>
</html>
